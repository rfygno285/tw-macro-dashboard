<!doctype html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Taiwan Macro Dashboard (Web)</title>
<style>
  body { font: 14px/1.5 system-ui, -apple-system, Segoe UI, Roboto; margin: 20px; }
  .grid { display: grid; grid-template-columns: 1fr; gap: 16px; }
  @media (min-width: 1100px){ .grid { grid-template-columns: 1fr 1fr; } }
  .card { padding: 12px; border: 1px solid #eee; border-radius: 12px; }
  .title { font-weight: 700; margin: 0 0 8px; }
  .note { color:#666; font-size:12px; }
  #cpi,#taibir,#unemp,#m2 { height:360px; }
</style>

<h2>台灣宏觀監控儀表板（Web 版）</h2>
<p class="note">資料來源：DGBAS（CPI/失業）、CBC（TAIBIR/M2）。每日排程更新；多數月度指標僅在發布日換期。</p>

<div class="grid">
  <div class="card">
    <div class="title">CPI YoY（%）</div>
    <div id="cpi"></div>
  </div>
  <div class="card">
    <div class="title">TAIBIR 隔夜拆款利率（%）</div>
    <div id="taibir"></div>
  </div>
  <div class="card">
    <div class="title">失業率（%）</div>
    <div id="unemp"></div>
  </div>
  <div class="card">
    <div class="title">M2 YoY（%）</div>
    <div id="m2"></div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/echarts@5"></script>
<script>
async function fetchJson(path){
  const url = path + '?t=' + Date.now();
  const r = await fetch(url);
  if (!r.ok) {
    console.error('Fetch failed:', url, r.status, r.statusText);
    return []; // 回傳空陣列，圖表不會掛
  }
  return await r.json();
}
</script>
